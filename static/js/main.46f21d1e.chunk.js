(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1085:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),u=n(19),i=n.n(u),l=(n(34),n(4)),s=n.n(l),m=n(12),d=n.n(m),f=n(11),p=n.n(f),v=n(1),E=function(){var e=Object(v.c)(),t=Object(v.c)(),n=Object(v.c)();return{updateFirstName:e,changeFirstName:t,updateLastName:n,changeLastName:Object(v.c)(),firstName:Object(v.e)(e,s.a.name.firstName()),lastName:Object(v.e)(n,s.a.name.lastName())}}(),h=n(3),b=n(5),N=n(7),w=n(6),g=n(8),y=n(9),C=n(14),j=n(22),O=new Map,I=Object(v.d)(new Map),k=I.map(function(e){return Array.from(e.values()).map(function(e){return[Object(C.a)(e),O.get(e.id).Provider]}).map(function(e){var t=Object(y.a)(e,2),n=t[0],a=t[1];return function(e){var t=e.children;return r.a.createElement(n,null,function(e){return r.a.createElement(a,{value:e},t())})}}).map(function(e){return r.a.createElement(e,null)})}),M=Object(v.c)();I.on(M,function(e,t){return e.has(t.id)?e:(O.set(t.id,r.a.createContext(t.getState())),new Map(e.set(t.id,t)))});var A=Object(C.a)(k);I.watch(function(e){console.log(e)});var S=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(N.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).renderProp=function(e){return r.a.createElement(j.a,{components:e},function(){return n.props.children})},n}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(A,null,this.renderProp)}}]),t}(r.a.Component);function T(e){return r.a.useEffect(function(){M(e)},[e]),r.a.useContext(O.get(e.id)||r.a.createContext(e.getState()))}var x=function(){var e=T(E.firstName);return r.a.createElement("input",{onChange:E.changeFirstName,value:e})},L=function(){var e=T(E.lastName);return r.a.createElement("input",{onChange:E.changeLastName,value:e})};function _(e,t){var n,r;return r=n=function(n){function a(){var t,n;Object(h.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(N.a)(this,(t=Object(w.a)(a)).call.apply(t,[this].concat(o)))).state={currentState:e.getState()},n._unsubscribe=null,n._hasUnmounted=!1,n}return Object(g.a)(a,n),Object(b.a)(a,[{key:"componentDidMount",value:function(){this.subscribe()}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this._hasUnmounted=!0}},{key:"subscribe",value:function(){var t=this,n=e.subscribe(function(e){t._hasUnmounted||t.setState(function(t){return e===t.currentState?null:{currentState:e}})});this._unsubscribe=n}},{key:"unsubscribe",value:function(){"function"===typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null}},{key:"render",value:function(){return t(this.props,this.state.currentState)}}]),a}(a.Component),n.displayName="".concat(e.shortName,".RenderComponent"),r}var F=_(E.firstName,function(e,t){return r.a.createElement("input",{onChange:E.changeFirstName,value:t})}),R=_(E.lastName,function(e,t){return r.a.createElement("input",{onChange:E.changeLastName,value:t})}),V=new Set;console.warn("\nPlease set window.INTERVAL1_TIME and window.INTERVAL2_TIME and start timers\n\nwindow.INTERVAL1_TIME = 15;\nwindow.INTERVAL1_TIME = 50;\n");var P=function(){V.add(setInterval(function(){E.updateFirstName(s.a.name.firstName()),E.updateLastName(s.a.name.lastName())},window.INTERVAL1_TIME||15)),V.add(setInterval(function(){E.updateFirstName("empty"),E.updateLastName("empty")},window.INTERVAL2_TIME||50))},$=function(){return V.forEach(clearInterval)},H=Array.from({length:50}).map(function(){return d()()});var U=n(2),W=n.n(U),B=new WeakMap;function J(e,t){B.set(e,t)}function D(e){var t=B.get(e);return W()(t,'You need to bind a model to your component "'.concat(function(e){return e.displayName||e.name||"Component"}(e),'" (using bindModel)')),t}function Y(e,t,n){var a=function(a){var o=a.children,c=a.disable,u=a.options,i=c?void 0:t(u||n);return r.a.createElement(e.Provider,{value:i},o)};return J(a,{modelFactory:t,ComponentContext:e}),a}var q=function(e,t){return t},z=new Set;function G(e){var t=Object(a.useState)(e.getState),n=Object(y.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)(function(){return e.watch(o)},[e]),r}var K=Array.from({length:50}).map(function(){return d()()});function Q(){var e=function(e,t){W()("function"===typeof e,"useComponentModel expects a component");var n=D(e),r=n.modelFactory,o=n.ComponentContext,c=(t?D(t):{}).ComponentContext;return Object(a.useContext)(c||o)||Object(a.useMemo)(r)}(Q),t=e.setFirstName,n=e.setLastName,o=e.$firstName,c=e.$lastName,u=e.addIntervals,i=e.stopAllIntervals,l=G(o),s=G(c);return r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:i},"stop all intervals"),r.a.createElement("button",{onClick:u},"add intervals"),r.a.createElement("h1",null,"Hello Hooks"),r.a.createElement("img",{width:"100",alt:"Effector",src:p.a}),K.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("input",{onChange:t,value:l}),r.a.createElement("input",{onChange:n,value:s}))}),r.a.createElement("h2",null,"Start editing to see some magic happen!")))}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a.createContext();W()("function"===typeof e&&"function"===typeof t&&n&&n.Provider&&n.Consumer,"bindModel expects a component and a model factory (optionally a context)"),J(e,{modelFactory:t,ComponentContext:n}),e.Consumer=n.Consumer,e.Provider=Y(n,t)}(Q,function(){var e=Object(v.d)(s.a.name.firstName()),t=Object(v.d)(s.a.name.lastName()),n=Object(v.c)(),a=Object(v.c)();return e.on(n,q),t.on(a,q),{setFirstName:n,setLastName:a,$firstName:e,$lastName:t,addIntervals:function(){console.log("addIntervals"),z.add(setInterval(function(){n(s.a.name.firstName()),a(s.a.name.lastName())},window.INTERVAL1_TIME||15)),z.add(setInterval(function(){n("empty"),a("empty")},window.INTERVAL2_TIME||15))},stopAllIntervals:function(){return z.forEach(clearInterval)}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X,Z=i.a.parse(window.location.search);X="context"in Z?a.createElement(function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:$},"stop intervals"),r.a.createElement("button",{onClick:P},"start intervals"),r.a.createElement("h1",null,"Hello Context"),r.a.createElement("img",{width:"100",alt:"Effector",src:p.a}),H.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement(x,null),r.a.createElement(L,null))}),r.a.createElement("h2",null,"Start editing to see some magic happen!"))))},null):"hooks"in Z?a.createElement(Q,null):a.createElement(function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:$},"pause"),r.a.createElement("button",{onClick:P},"play"),r.a.createElement("h1",null,"Hello Traditional"),r.a.createElement("img",{width:"100",alt:"Effector",src:p.a}),H.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement(F,null),r.a.createElement(R,null))}),r.a.createElement("h2",null,"Start editing to see some magic happen!")))},null),"concurrent"in Z&&(X=a.createElement(a.ConcurrentMode,null,X)),c.a.render(X,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},11:function(e,t,n){e.exports=n.p+"static/media/favicon.ce1a3ad9.png"},23:function(e,t,n){e.exports=n(1085)},34:function(e,t,n){}},[[23,2,1]]]);
//# sourceMappingURL=main.46f21d1e.chunk.js.map