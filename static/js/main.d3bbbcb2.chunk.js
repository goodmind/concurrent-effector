(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1084:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),u=n(18),i=n.n(u),l=(n(33),n(4)),s=n.n(l),m=n(11),d=n.n(m),f=n(1),p=function(){var e=Object(f.c)(),t=Object(f.c)(),n=Object(f.c)();return{updateFirstName:e,changeFirstName:t,updateLastName:n,changeLastName:Object(f.c)(),firstName:Object(f.e)(e,s.a.name.firstName()),lastName:Object(f.e)(n,s.a.name.lastName())}}(),v=n(3),h=n(5),E=n(7),b=n(6),N=n(8),w=n(9),g=n(13),y=n(21),C=new Map,j=Object(f.d)(new Map),O=j.map(function(e){return Array.from(e.values()).map(function(e){return[Object(g.a)(e),C.get(e.id).Provider]}).map(function(e){var t=Object(w.a)(e,2),n=t[0],a=t[1];return function(e){var t=e.children;return r.a.createElement(n,null,function(e){return r.a.createElement(a,{value:e},t())})}}).map(function(e){return r.a.createElement(e,null)})}),I=Object(f.c)();j.on(I,function(e,t){return e.has(t.id)?e:(C.set(t.id,r.a.createContext(t.getState())),new Map(e.set(t.id,t)))});var k=Object(g.a)(O);j.watch(function(e){console.log(e)});var M=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).renderProp=function(e){return r.a.createElement(y.a,{components:e},function(){return n.props.children})},n}return Object(N.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null,this.renderProp)}}]),t}(r.a.Component);function A(e){return r.a.useEffect(function(){I(e)},[e]),r.a.useContext(C.get(e.id)||r.a.createContext(e.getState()))}var S=function(){var e=A(p.firstName);return r.a.createElement("input",{onChange:p.changeFirstName,value:e})},T=function(){var e=A(p.lastName);return r.a.createElement("input",{onChange:p.changeLastName,value:e})};function L(e,t){var n,r;return r=n=function(n){function a(){var t,n;Object(v.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(E.a)(this,(t=Object(b.a)(a)).call.apply(t,[this].concat(o)))).state={currentState:e.getState()},n._unsubscribe=null,n._hasUnmounted=!1,n}return Object(N.a)(a,n),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.subscribe()}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this._hasUnmounted=!0}},{key:"subscribe",value:function(){var t=this,n=e.subscribe(function(e){t._hasUnmounted||t.setState(function(t){return e===t.currentState?null:{currentState:e}})});this._unsubscribe=n}},{key:"unsubscribe",value:function(){"function"===typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null}},{key:"render",value:function(){return t(this.props,this.state.currentState)}}]),a}(a.Component),n.displayName="".concat(e.shortName,".RenderComponent"),r}var _=L(p.firstName,function(e,t){return r.a.createElement("input",{onChange:p.changeFirstName,value:t})}),x=L(p.lastName,function(e,t){return r.a.createElement("input",{onChange:p.changeLastName,value:t})}),F=new Set;console.warn("\nPlease set window.INTERVAL1_TIME and window.INTERVAL2_TIME and start timers\n\nwindow.INTERVAL1_TIME = 15;\nwindow.INTERVAL1_TIME = 50;\n");var R=function(){F.add(setInterval(function(){p.updateFirstName(s.a.name.firstName()),p.updateLastName(s.a.name.lastName())},window.INTERVAL1_TIME||15)),F.add(setInterval(function(){p.updateFirstName("empty"),p.updateLastName("empty")},window.INTERVAL2_TIME||50))},V=function(){return F.forEach(clearInterval)},P=Array.from({length:50}).map(function(){return d()()});var $=n(2),H=n.n($),U=new WeakMap;function W(e,t){U.set(e,t)}function B(e){var t=U.get(e);return H()(t,'You need to bind a model to your component "'.concat(function(e){return e.displayName||e.name||"Component"}(e),'" (using bindModel)')),t}function J(e,t,n){var a=function(a){var o=a.children,c=a.disable,u=a.options,i=c?void 0:t(u||n);return r.a.createElement(e.Provider,{value:i},o)};return W(a,{modelFactory:t,ComponentContext:e}),a}var D=function(e,t){return t},Y=new Set;function q(e){var t=Object(a.useState)(e.getState),n=Object(w.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)(function(){return e.watch(o)},[e]),r}var z=Array.from({length:50}).map(function(){return d()()});function G(){var e=function(e,t){H()("function"===typeof e,"useComponentModel expects a component");var n=B(e),r=n.modelFactory,o=n.ComponentContext,c=(t?B(t):{}).ComponentContext;return Object(a.useContext)(c||o)||Object(a.useMemo)(r)}(G),t=e.setFirstName,n=e.setLastName,o=e.$firstName,c=e.$lastName,u=e.addIntervals,i=e.stopAllIntervals,l=q(o),s=q(c);return r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:i},"stop all intervals"),r.a.createElement("button",{onClick:u},"add intervals"),r.a.createElement("h1",null,"Hello Hooks"),z.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("input",{onChange:t,value:l}),r.a.createElement("input",{onChange:n,value:s}))}),r.a.createElement("h2",null,"Start editing to see some magic happen!")))}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a.createContext();H()("function"===typeof e&&"function"===typeof t&&n&&n.Provider&&n.Consumer,"bindModel expects a component and a model factory (optionally a context)"),W(e,{modelFactory:t,ComponentContext:n}),e.Consumer=n.Consumer,e.Provider=J(n,t)}(G,function(){var e=Object(f.d)(s.a.name.firstName()),t=Object(f.d)(s.a.name.lastName()),n=Object(f.c)(),a=Object(f.c)();return e.on(n,D),t.on(a,D),{setFirstName:n,setLastName:a,$firstName:e,$lastName:t,addIntervals:function(){console.log("addIntervals"),Y.add(setInterval(function(){n(s.a.name.firstName()),a(s.a.name.lastName())},window.INTERVAL1_TIME||15)),Y.add(setInterval(function(){n("empty"),a("empty")},window.INTERVAL2_TIME||15))},stopAllIntervals:function(){return Y.forEach(clearInterval)}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K,Q=i.a.parse(window.location.search);K="context"in Q?a.createElement(function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:V},"stop intervals"),r.a.createElement("button",{onClick:R},"start intervals"),r.a.createElement("h1",null,"Hello Context"),P.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement(S,null),r.a.createElement(T,null))}),r.a.createElement("h2",null,"Start editing to see some magic happen!"))))},null):"hooks"in Q?a.createElement(G,null):a.createElement(function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:V},"pause"),r.a.createElement("button",{onClick:R},"play"),r.a.createElement("h1",null,"Hello Traditional"),P.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement(_,null),r.a.createElement(x,null))}),r.a.createElement("h2",null,"Start editing to see some magic happen!")))},null),"concurrent"in Q&&(K=a.createElement(a.ConcurrentMode,null,K)),c.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},22:function(e,t,n){e.exports=n(1084)},33:function(e,t,n){}},[[22,2,1]]]);
//# sourceMappingURL=main.d3bbbcb2.chunk.js.map